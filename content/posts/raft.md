---
title: "Raft算法原理"
date: 2022-02-23T11:58:15+08:00
tags: ["分布式", "算法"]
author: zoulingbin
description: "记录raft原理的个人理解"
---
<!--more-->
## 算法的基本流程
### Raft算法概述

> raft算法在维基百科上是这样解释的：raft是一种用于替代Paxos的共识算法。 相比于Paxos，Raft的目標是提供更清晰的逻辑分工使得算法本身能被更好地理解，同时它安全性更高，并能提供一些额外的特性。 Raft能为在计算机集群之间部署有限状态机提供一种通用方法，并确保集群内的任意节点在某种状态转换上保持一致。

`raft`是实现分布式共识的一种算法，主要用来管理日志复制的一致性。不同与`Paxos`直接从分布式一致性问题出发推导出来，`raft`则是从多副本状态机的角度提出，用于管理多副本状态机的日志复制。
Raft算法由leader节点来处理一致性问题。

`Raft`将共识问题分成如下几个问题：
- **Leader election** leader选举：有且仅有一个leader节点，如果leader宕机，通过选举机制选出新的leader；
- **Log replication** 日志复制：leader从客户端接收数据更新/删除请求，然后日志复制到follower节点，从而保证集群数据的一致性；
- **Safety** 安全性：如果某个节点已经将一条提交过的数据输入raft状态机执行了，那么其它节点不可能再将相同索引 的另一条日志数据输入到raft状态机中执行。